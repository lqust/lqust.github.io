---
layout: post
title: 'AAA Toolbox: Acceptance Criteria'
permalink: blog/2014/4/22/aaa-toolbox-acceptance-criteria
categories:
- Agilidade
tags:
- aaa
- agilidade
- toolbox
- analise
- analista de negcios
- anlise de sistemas
- estorias
- histrias de usurio
- pattern
- given when then
- criterios de aceite
- acceptance criteria
- English
status: publish
type: post
published: true
meta: {}
---
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p><em>Esse é um post de uma série que eu compartilhei internamente na ThoughtWorks uns anos atrás. Eu escrevi em inglês, então republico assim, mas se a série acabar sendo bem popular, eu prometo traduzir tudo. </em></p>

      <img src="/squarespace_images/static_531766e3e4b00113dae821dc_53177f8de4b0bf4d7353b49f_5356b8b0e4b08ed8a907de78_1398192310211_Acceptance_Criteria.png_" alt="">



<p>Stories are a key artefact of agile business analysis, but in order to complete the validation loop, it is useful to describe what changes in the system are expected after the story is played. Stories in cards can be quite abstract and, therefore, hard to verify if the corresponding code does what is expected out of it. Instead, an analyst can write scenarios that describe the expected behaviour.</p>
<p><a target="_blank" href="http://www.amazon.co.uk/User-Stories-Applied-Development-Signature/dp/0321205685">Mike Cohn</a> called these scenarios "acceptance tests", and suggested using one-liners to describe the tests that should be performed. Dan North came up with the <a target="_blank" href="http://dannorth.net/whats-in-a-story/">concept</a> of Behaviour Driven Development, and as part of it, the standard format for scenarios in user stories. Much like the <a href="http://www.protolous.org/blog/2014/3/31/aaa-toolbox-as-a-i-want-to-so-that">As a... I want to... So that...</a> model, he proposed a "Given... When... Then..." template for writing acceptance tests and called them Acceptance Criteria. The "Given" part is used to set the stage (i.e.: describe the initial state of the pertinent variables); the "When" part to describe the event that triggers a change in the system covered in the story; and the "Then" bit to describe what is the perceived change in the system after the triggering event occurred, given the initial state of the system. For instance:</p>
<blockquote>
<p><strong>Given</strong> the user is on the "place car reservation" page</p>
<p><strong>and</strong> the "customer name" field is not empty</p>
<p><strong>When</strong> user follows the "complete reservation" link</p>
<p><strong>Then</strong> user is directed to "car reservation confirmation" page</p>
</blockquote>
<p>Other acceptance criteria for this story could cover what happens if the customer name field is empty, or what can be seen in the confirmation page. Acceptance criteria can be bound to implementation a lot more than stories should be. Ultimately, they should describe everything that is expected of the story. Analysts should make an effort to guarantee that acceptance criteria are not missed (by performing edge case analysis, reviewing with the product owner or other methods), as missed acceptance criteria will not be tested, therefore, even if implemented, cannot be guaranteed to work after changes in code.</p>
<p>Stories normally have several acceptance criteria. These acceptance criteria should be as atomic and unambiguous as possible. It is very unlikely that an "or" will be used in an acceptance criteria. In most cases where it would make sense to use it, it is advisable to split these conditions in multiple acceptance criteria. Similarly, "and" connectors in the "When" and "Then" clauses usually indicate that the acceptance criteria could be re-written or broken down. Of course, these are only smells that something is off and shouldn't be considered hard and fast rules. Ultimately, the acceptance criteria style should be agreed among the team based on the type of automated test being used.</p>
</body></html>
